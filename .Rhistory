rvest::html(paste0("http://www.epexspot.com/en/market-data/auction/aucti",
"on-table/",
date_scrape[ii],
"/",
country))
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text()
data_out[[ii]] <- data.frame(
date = date_scrape[ii] %>% as.Date %>% magrittr::add(6),
hour = if(length(data_scrape) > 48) c(1:25) else c(1:24)),
spot = data_scrape[c(TRUE, FALSE)] %>% as.numeric,
volume = data_scrape[c(FALSE, TRUE)]  %>% gsub(",", "", .) %>% as.numeric)
cat(paste0(as.character(as.Date(date_scrape[ii]) + 6), " ...\n"))
}
data_out <- dplyr::rbind_all(data_out)
cat("Data downloaded, exiting function\n")
return(data_out)
}
scrape_epex_spot <- function(from_date, to_date, country) {
cat("Initialising scraping routine, getting dates ...\n")
time_stamp <- Sys.time()
date_scrape <- seq(as.Date(from_date) -6, as.Date(to_date) -6, by = 1) %>%
as.character
data_out <- list()
for (ii in 1:length(date_scrape)) {
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/auction/aucti",
"on-table/",
date_scrape[ii],
"/",
country))
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text()
data_out[[ii]] <- data.frame(
date = date_scrape[ii] %>% as.Date %>% magrittr::add(6),
hour = if(length(data_scrape) > 48) 1:25 else 1:24,
spot = data_scrape[c(TRUE, FALSE)] %>% as.numeric,
volume = data_scrape[c(FALSE, TRUE)]  %>% gsub(",", "", .) %>% as.numeric)
cat(paste0(as.character(as.Date(date_scrape[ii]) + 6), " ...\n"))
}
data_out <- dplyr::rbind_all(data_out)
cat("Data downloaded, exiting function\n")
return(data_out)
}
spot_price <- scrape_epex_spot("2012-10-01", "2012-11-24", "DE")
View(spot_price)
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/auction/aucti",
"on-table/",
"2014-10-22",
"/",
"DE"))
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text()
data_scrape
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/auction/aucti",
"on-table/",
"2012-10-22",
"/",
"DE"))
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text()
data_scrape
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/auction/aucti",
"on-table/",
"2012-10-23",
"/",
"DE"))
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text()
data_scrape
test <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text() as.numeric
test <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text() %>%
as.numeric
test <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric
test
?na
?is.na
?na.rm
?na.omit
test <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric %>%
na.omit
scrape_epex_spot <- function(from_date, to_date, country) {
cat("Initialising scraping routine, getting dates ...\n")
time_stamp <- Sys.time()
date_scrape <- seq(as.Date(from_date) -6, as.Date(to_date) -6, by = 1) %>%
as.character
data_out <- list()
for (ii in 1:length(date_scrape)) {
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/auction/aucti",
"on-table/",
date_scrape[ii],
"/",
country))
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric %>%
na.omit
data_out[[ii]] <- data.frame(
date = date_scrape[ii] %>% as.Date %>% magrittr::add(6),
hour = if(length(data_scrape) > 48) 1:25 else 1:24,
spot = data_scrape[c(TRUE, FALSE)],
volume = data_scrape[c(FALSE, TRUE)])
cat(paste0(as.character(as.Date(date_scrape[ii]) + 6), " ...\n"))
}
data_out <- dplyr::rbind_all(data_out)
cat("Data downloaded, exiting function\n")
return(data_out)
}
spot_price <- scrape_epex_spot("2012-10-01", "2012-11-24", "DE")
View(spot_price)
1320/24
c(1:3,3:24)
c(1:2,4:24)
if(length(data_scrape) > 48) c(1:3,3:24)
else if(length(data_scrape) < 48) c(1:2,4:24)
else 1:24
if(length(data_scrape) > 48) {c(1:3,3:24)}
else if(length(data_scrape) < 48) {c(1:2,4:24)}
else {1:24}
if(length(data_scrape) > 48) {c(1:3,3:24)} else if(length(data_scrape) < 48) {c(1:2,4:24)} else {1:24}
if(length(data_scrape) > 48) c(1:3,3:24) else if(length(data_scrape) < 48) c(1:2,4:24) else 1:24
spot_price <- scrape_epex_spot("2012-01-01", "2014-10-24", "DE")
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/auction/aucti",
"on-table/",
"2012-03-25",
"/",
"DE"))
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric %>%
na.omit
data_scrape
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/auction/aucti",
"on-table/",
"2012-03-24",
"/",
"DE"))
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric %>%
na.omit
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/auction/aucti",
"on-table/",
"2012-03-25",
"/",
"DE"))
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric %>%
na.omit
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/auction/aucti",
"on-table/",
"2012-03-26",
"/",
"DE"))
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric %>%
na.omit
scrape_epex_spot <- function(from_date, to_date, country) {
cat("Initialising scraping routine, getting dates ...\n")
time_stamp <- Sys.time()
date_scrape <- seq(as.Date(from_date) -6, as.Date(to_date) -6, by = 1) %>%
as.character
data_out <- list()
for (ii in 1:length(date_scrape)) {
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/auction/aucti",
"on-table/",
date_scrape[ii],
"/",
country))
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric %>%
na.omit
data_out[[ii]] <- data.frame(
date = date_scrape[ii] %>% as.Date %>% magrittr::add(6),
hour = if(length(data_scrape) > 48) c(1:3,3:24) else if(length(data_scrape) < 48) c(1:2,4:24) else 1:24,
spot = data_scrape[c(TRUE, FALSE)],
volume = data_scrape[c(FALSE, TRUE)])
cat(paste0(as.character(as.Date(date_scrape[ii]) + 6), " ...\n"))
}
data_out <- dplyr::rbind_all(data_out)
cat("Data downloaded, exiting function\n")
return(data_out)
}
spot_price <- scrape_epex_spot("2012-01-01", "2014-10-24", "DE")
warnings()
View(spot_price)
tail(spotprice)
tail(spot_price)
install.packages("roxygen2")
library(svmfortopic)
scrape_epex_spot("2014-10-01", "2014-10-29", "DE")
?error
?eror
library(svmfortopic)
scrape_epex_spot("2014-10-01", "2014-10-10", "DE")
epex_sp <- rvest::html("http://www.epexspot.com/en/market-data/intraday/intraday-table/2014-10-30/DE")
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(6)") %>%
rvest::html_text()
`%>%` <- magrittr::`%>%`
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(6)") %>%
rvest::html_text()
epex_sp <- rvest::html("http://www.epexspot.com/en/market-data/intraday/intraday-table/2014-10-30/DE")
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(6)") %>%
rvest::html_text()
epex_sp <- rvest::html("http://www.epexspot.com/en/market-data/intraday/intraday-table/2014-10-30/DE")
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(6)")
epex_sp <- rvest::html("http://www.epexspot.com/en/market-data/intraday/intraday-table/2014-10-30/DE")
epex_sp
data_scrape <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(6)")
data_scrape <- epex_sp %>%
rvest::html_nodes("td:nth-child(6)")
data_scrape <- epex_sp %>%
rvest::html_nodes("td:nth-child(6)") %>%
rvest::html_text()
data_scrape
epex_sp <- rvest::html("http://www.epexspot.com/en/market-data/intraday/intraday-table/2014-10-30/DE")
data_scrape <- epex_sp %>%
rvest::html_nodes("td:nth-child(6)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric %>%
na.omit
data_scrape
data_scrape
data_scrape <- data_scrape[seq(1, length(data_scrape), 5)]
data_scrape <- data_scrape[seq(1, length(data_scrape), 5)]
pex_sp <- rvest::html("http://www.epexspot.com/en/market-data/intraday/intraday-table/2014-10-30/DE")
data_scrape <- epex_sp %>%
rvest::html_nodes("td:nth-child(6)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric %>%
na.omit
data_scrape <- data_scrape[seq(1, length(data_scrape), 5)]
data_scrape
epex_sp <- rvest::html("http://www.epexspot.com/en/market-data/intraday/intraday-table/2014-10-30/DE")
data_scrape <- epex_sp %>%
rvest::html_nodes("td:nth-child(6)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric %>%
na.omit
data_scrape <- data_scrape[-seq(1, length(data_scrape), 5)]
data_scrape
library(svmfortopic)
source('~/.active-rstudio-document', echo=TRUE)
library(svmfortopic)
scrape_epex("2014-10-01", "2014-10-30")
scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "H")
library(svmfortopic)
scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "H")
library(svmfortopic)
library(svmfortopic)
scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "H")
rm(list = ls())
test <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "H")
View(Test)
View(test)
test <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "Q")
View(test)
library(svmfortopic)
rm(list = ls())
test <- scrape_epex("2014-10-01", "2014-10-30")
View(test)
library(svmfortopic)
rm(list = ls())
test <- scrape_epex("2014-10-01", "2014-10-30")
View(Test)
View(test)
test1 <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "H")
library(svmfortopic)
test1 <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "H")
View(test)
View(test1)
test2 <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "Q")
View(test2)
View(dplyr::filter(test2, date == "2014-10-26")
)
View(test2)
rm(list = ls())
View(dplyr::filter(test2, date == "2014-10-26")
)
test2 <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "Q")
View(dplyr::filter(test2, date == "2014-10-26")
)
View(test2)
test2 <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "Q")
rm(list = ls())
library(svmfortopic)
library(svmfortopic)
test2 <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "Q")
library(svmfortopic)
test2 <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "Q")
View(test2)
View(dplyr::filter(test2, date == "2014-10-26")
)
View(dplyr::filter(test2, date == "2014-10-24"))
View(dplyr::filter(test2, date == "2014-10-25"))
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/intraday/in",
"traday-table/",
"2014-10-26",
"/",
DE))
data_scrape <- epex_sp %>%
rvest::html_nodes("td:nth-child(6)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric %>%
na.omit
`%>%` <- magrittr::`%>%`
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/intraday/in",
"traday-table/",
"2014-10-26",
"/",
DE))
data_scrape <- epex_sp %>%
rvest::html_nodes("td:nth-child(6)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric %>%
na.omit
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/intraday/in",
"traday-table/",
"2014-10-26",
"/",
DE))
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/intraday/in",
"traday-table/",
"2014-10-26",
"/",
"DE"))
data_scrape <- epex_sp %>%
rvest::html_nodes("td:nth-child(6)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric %>%
na.omit
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/intraday/in",
"traday-table/",
"2014-10-26",
"/",
"DE"))
data_scrape <- epex_sp %>%
rvest::html_nodes("td:nth-child(6)") %>%
rvest::html_text()
data_scrape
data_scrape <- epex_sp %>%
rvest::html_nodes("td:nth-child(6)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric
data_scrape
data_scrape <- data_scrape[seq(1, length(data_scrape), 5)]
data_scrape
library(svmfortopic)
library(svmfortopic)
test <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "H")
View(test)
test1 <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "Q")
View(test1)
View(dplyr::filter(test1, date == "2014-10-26"))
test3 <- scrape_epex("2014-10-01", "2014-10-30")
View(test3)
test2 <- test3
test3 <- scrape_epex("2014-03-01", "2014-03-31", "DE", "Intraday", "H")
tail(1:10,-1)
head(1:10,-1)
test <- scrape_epex("2014-10-01", "2014-10-30")
test1 <- scrape_epex("2014-03-01", "2014-03-31")
library(svmfortopic)
rm(list = ls())
test <- scrape_epex("2014-10-01", "2014-10-30")
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/auction/auc",
"tion-table/",
"2014-10-26",
"/",
"DE"))
data_scr <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric
`%>%` <- magrittr::`%>%`
epex_sp <-
rvest::html(paste0("http://www.epexspot.com/en/market-data/auction/auc",
"tion-table/",
"2014-10-26",
"/",
"DE"))
data_scr <- epex_sp %>%
rvest::html_nodes("#tab_de td:nth-child(9)") %>%
rvest::html_text() %>%
gsub(",", "", .) %>%
as.numeric
data_out[[ii]] <- data.frame(
date = date_scr[ii] %>% as.Date %>% magrittr::add(6),
hour = if (length(date_scr) > 48) c(1:3, 3:24) else 1:24,
spot = data_scr[c(TRUE, FALSE)],
volume = data_scr[c(FALSE, TRUE)],
created = time_stamp)
library(svmfortopic)
test <- scrape_epex("2014-10-01", "2014-10-30")
View(test)
test1 <- scrape_epex("2014-03-01", "2014-03-31")
View(test1)
spot_winter <- scrape_epex("2014-10-01", "2014-10-30")
spot_summer <- scrape_epex("2014-10-01", "2014-10-30")
spot_summer <- scrape_epex("2014-03-01", "2014-03-30")
spot_summer <- scrape_epex("2014-03-01", "2014-03-31")
rm(list = ls())
spot_winter <- scrape_epex("2014-10-01", "2014-10-30")
library(svmfortopic)
spot_winter <- scrape_epex("2014-10-01", "2014-10-30")
spot_summer <- scrape_epex("2014-03-01", "2014-03-31")
intraday_h_winter <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "H")
intraday_h_summer <- scrape_epex("2014-03-01", "2014-03-31", "DE", "Intraday", "H")
intraday_q_summer <- scrape_epex("2014-03-01", "2014-03-31", "DE", "Intraday", "Q")
intraday_q_winter <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "Q")
View(spot_winter)
?mean
?meantest <- spot_winter %>% group_by(date, hour) %>% mutate(spot = mean(spot, na.rm = FALSE), volume = mean(volume, na.rm = FALSE))
test <- spot_winter %>% group_by(date, hour) %>% mutate(spot = mean(spot, na.rm = FALSE), volume = mean(volume, na.rm = FALSE))
library(magrittr)
test <- spot_winter %>% group_by(date, hour) %>% mutate(spot = mean(spot, na.rm = FALSE), volume = mean(volume, na.rm = FALSE))
library(dplyr)
test <- spot_winter %>% group_by(date, hour) %>% mutate(spot = mean(spot, na.rm = FALSE), volume = mean(volume, na.rm = FALSE))
test <- data.frame(
order1 = c(1,1,1,1,2,2,2,2,2,3,3,3,3),
order2 = c(1,2,3,4,1,2,2,3,4,1,2,3,4),
order3 = c(2,4,6,8,2,4,4,6,8,2,4,6,8))
test <- data.frame(
order1 = c(1,1,1,1,2,2,2,2,2,3,3,3,3),
order2 = c(1,2,3,4,1,2,2,3,4,1,2,3,4),
order3 = c(2,4,6,8,2,4,4,6,8,2,4,6,8)) %>%
group_by(order1, order2) %>%
mutate(order3 = mean(order3))
test <- data.frame(
order1 = c(1,1,1,1,2,2,2,2,2,3,3,3,3),
order2 = c(1,2,3,4,1,2,2,3,4,1,2,3,4),
order3 = c(2,4,6,8,2,4,4,6,8,2,4,6,8)) %>%
group_by(order1, order2) %>%
summarise(order3 = mean(order3))
test <- data.frame(
+   order1 = c(1,1,1,1,2,2,2,2,2,3,3,3,3),
+   order2 = c(1,2,3,4,1,2,2,3,4,1,2,3,4),
+   order3 = c(2,4,6,8,2,4,4,6,8,2,4,6,8)) %>%
+   group_by(1, 2) %>%
+   mutate(order3 = mean(order3))
?mean
library(svmfortopic)
spot_winter <- scrape_epex("2014-10-01", "2014-10-30")
library(svmfortopic)
spot_winter <- scrape_epex("2014-10-01", "2014-10-30")
spot_summer <- scrape_epex("2014-03-01", "2014-03-31")
intraday_h_winter <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "H")
intraday_h_summer <- scrape_epex("2014-03-01", "2014-03-31", "DE", "Intraday", "H")
intraday_q_summer <- scrape_epex("2014-03-01", "2014-03-31", "DE", "Intraday", "Q")
intraday_q_winter <- scrape_epex("2014-10-01", "2014-10-30", "DE", "Intraday", "Q")
2880/96
library(svmfortopic)
